{"version":3,"sources":["webpack:///src/app/shared/models/ShopParams.ts","webpack:///src/app/shared/models/pagination.ts","webpack:///src/app/shop/product-details/product-details.component.ts","webpack:///src/app/shop/product-details/product-details.component.html","webpack:///src/app/shop/product-item/product-item.component.ts","webpack:///src/app/shop/product-item/product-item.component.html","webpack:///src/app/shop/shop-routing.module.ts","webpack:///src/app/shop/shop.component.ts","webpack:///src/app/shop/shop.component.html","webpack:///src/app/shop/shop.module.ts","webpack:///src/app/shop/shop.service.ts"],"names":["ShopParams","brandId","typeId","sort","pageNumber","pageSize","Pagination","data","ProductDetailsComponent","shopService","activatedRoute","bcService","basketService","quantity","set","loadProduct","addItemToBasket","product","getProduct","snapshot","paramMap","get","subscribe","name","err","console","log","selector","templateUrl","styleUrls","ProductItemComponent","routes","path","component","breadcrumb","alias","ShopRoutingModule","forChild","declarations","imports","exports","ShopComponent","sortOptions","value","shopParams","getShopParams","getProducts","getBrands","getTypes","useCache","res","products","totalCount","count","error","brands","id","types","params","setShopParams","event","search","searchTerm","nativeElement","ShopModule","ShopService","http","baseUrl","pagination","length","pagesReceived","Math","ceil","slice","append","toString","observe","pipe","response","body","find","p","providedIn"],"mappings":"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","file":"shop-shop-module-es5.js","sourcesContent":["export class ShopParams {\n    brandId = 0;\n    typeId = 0;\n    sort = 'priceAsc';\n    pageNumber = 1;\n    pageSize = 10;\n    search: string;\n}","import { IProduct } from \"./product\";\n\nexport interface IPagination {\n    pageIndex: number;\n    pageSize: number;\n    count: number;\n    data: IProduct[];\n  }\n\nexport class Pagination implements IPagination {\n  pageIndex: number;\n  pageSize: number;\n  count: number;\n  data: IProduct[] = [];\n}","import { Component, OnInit } from '@angular/core';\nimport { IProduct } from 'src/app/shared/models/product';\nimport { ShopService } from '../shop.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { BreadcrumbService } from 'xng-breadcrumb';\nimport { BasketService } from 'src/app/basket/basket.service';\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.scss']\n})\nexport class ProductDetailsComponent implements OnInit {\n  product: IProduct;\n  quantity = 1;\n\n  constructor(private shopService: ShopService, private activatedRoute: ActivatedRoute, private bcService: BreadcrumbService,\n              private basketService: BasketService) {\n    this.bcService.set('@productDetails', '');\n   }\n\n  ngOnInit(): void {\n    this.loadProduct();\n  }\n\n  addItemToCart() {\n    this.basketService.addItemToBasket(this.product, this.quantity);\n  }\n\n  incrementQuantity() {\n    this.quantity++;\n  }\n\n  decrementQuantity() {\n    if (this.quantity > 1) {\n    this.quantity--;\n    }\n  }\n\n  loadProduct() {\n    this.shopService.getProduct(+this.activatedRoute.snapshot.paramMap.get('id')).subscribe(product => {\n    this.product = product;\n    this.bcService.set('@productDetails', product.name);\n    }, err => console.log(err));\n  }\n\n}\n","<div class=\"container mt-5\">\n  <div class=\"row\" *ngIf=\"product\">\n    <div class=\"col-6\">\n      <img src=\"{{product.pictureUrl}}\" alt=\"{{product.name}}\" class=\"img-fluid w-100\">\n      <h1>{{ product.name }}</h1>\n    </div>\n    <div class=\"col-6\">\n        <h3>{{ product.name }}</h3>\n        <p style=\"font-size: 2em;\">{{ product.price | currency: \"INR\"}}</p>\n        <div class=\"d-flex justify-content-start align-items-center\">\n            <i (click)=\"decrementQuantity()\" class=\"fa fa-minus-circle text-warning mr-2\" style=\"cursor: pointer; font-size: 2em;\"></i>\n            <span class=\"font-weight-bold\" style=\"font-size: 1.5em;\">{{quantity}}</span>\n            <i (click)=\"incrementQuantity()\" class=\"fa fa-plus-circle text-warning mx-2\" style=\"cursor: pointer; font-size: 2em;\"></i>\n            <button (click)=\"addItemToCart()\" class=\"btn btn-outline-primary btn-lg ml-4\">Add to Cart</button>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-12 ml-3\">\n            <h4>Description</h4>\n            <p>{{product.description}}</p>\n        </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input } from '@angular/core';\nimport { IProduct } from 'src/app/shared/models/product';\nimport { BasketService } from 'src/app/basket/basket.service';\n\n@Component({\n  selector: 'app-product-item',\n  templateUrl: './product-item.component.html',\n  styleUrls: ['./product-item.component.scss']\n})\nexport class ProductItemComponent implements OnInit {\n@Input() product: IProduct;\n\n  constructor(private basketService: BasketService) { }\n\n  ngOnInit(): void {\n  }\n\n  addItemToBasket() {\n    this.basketService.addItemToBasket(this.product);\n  }\n\n}\n","<div class=\"card h-100 shadow-sm\">\n  <div class=\"image position-relative;\" style=\"cursor: pointer;\">\n    <img src=\"{{ product.pictureUrl }}\" alt=\"{{ product.name }}\" class=\"img-fluid bg-light\"/>\n    <div class=\"d-flex align-items-center justify-content-center hover-overlay\">\n      <button (click)=\"addItemToBasket()\" type=\"button\" class=\"btn btn-primary fa fa-shopping-cart mr-2\"></button>\n      <button routerLink=\"/shop/{{product.id}}\" type=\"button\" class=\"btn btn-primary\">View</button>\n    </div>\n  </div>\n \n  <div class=\"card-body d-flex flex-column\">\n    <a routerLink=\"/shop/{{product.id}}\">\n      <h6 class=\"text-uppercase\">{{ product.name }}</h6>\n    </a>\n    <span class=\"mb-2\" style=\"font-size: 1.5em;\">{{ product.price | currency: \"INR\" }}</span>\n   </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ShopComponent } from './shop.component';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\n\nconst routes: Routes = [\n  { path: '', component: ShopComponent },\n  { path: ':id', component: ProductDetailsComponent, data: {breadcrumb: {alias: 'productDetails'}} },\n]\n\n@NgModule({\n  declarations: [],\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class ShopRoutingModule { }\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { IProduct } from '../shared/models/product';\nimport { ShopService } from './shop.service';\nimport { IBrand } from '../shared/models/brand';\nimport { IType } from '../shared/models/productType';\nimport { ShopParams } from '../shared/models/ShopParams';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.scss']\n})\nexport class ShopComponent implements OnInit {\n  @ViewChild('search', {static: false}) searchTerm: ElementRef;\n  products: IProduct[];\n  brands: IBrand[];\n  types: IType[];\n  shopParams: ShopParams;\n  totalCount: number;\n  sortOptions = [\n    { name: 'Price: Low to High', value: 'priceAsc' },\n    { name: 'Price: High to Low', value: 'priceDesc'},\n    { name: 'Alphabetical', value: 'name' }\n  ];\n\n  constructor(private shopService: ShopService) {\n    this.shopParams = this.shopService.getShopParams();\n   }\n\n  ngOnInit(): void {\n    this.getProducts(true);\n    this.getBrands();\n    this.getTypes();\n  }\n\n  getProducts(useCache = false) {\n    this.shopService.getProducts(useCache).subscribe(res => {\n      this.products = res.data;\n      this.totalCount = res.count;\n    }, error => {\n      console.log(error);\n  });\n}\n\n  getBrands() {\n    this.shopService.getBrands().subscribe(res => {\n      // Spread operators help to spread all objects. Plus one can add additional one on top of existing ones\n      this.brands = [{id: 0, name: 'All'}, ...res];\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  getTypes() {\n    this.shopService.getTypes().subscribe(res => {\n      this.types = [{id: 0, name: 'All'}, ...res];\n    }, error => {\n      console.log(error);\n    });\n }\n\n onBrandSelected(brandId: number) {\n  const params = this.shopService.getShopParams();\n  params.brandId = brandId;\n  params.pageNumber = 1;\n  this.shopService.setShopParams(params);\n  this.getProducts();\n }\n\n onTypeSelected(typeId: number) {\n   const params = this.shopService.getShopParams();\n   params.typeId = typeId;\n   params.pageNumber = 1;\n   this.shopService.setShopParams(params);\n   this.getProducts();\n }\n\n onSortSelected(sort: string) {\n   const params = this.shopService.getShopParams();\n   params.sort = sort;\n   this.shopService.setShopParams(params);\n   this.getProducts();\n }\n\n onPageChanged(event: any) {\n  const params = this.shopService.getShopParams();\n  if (params.pageNumber !== event)\n  {\n     params.pageNumber = event;\n     this.shopService.setShopParams(params);\n     this.getProducts(true);\n  }\n }\n\n onSearch() {\n   const params = this.shopService.getShopParams();\n   params.search = this.searchTerm.nativeElement.value;\n   params.pageNumber = 1;\n   this.shopService.setShopParams(params);\n   this.getProducts();\n }\n\n onReset() {\n   this.searchTerm.nativeElement.value = '';\n   this.shopParams = new ShopParams();\n   this.shopService.setShopParams(this.shopParams);\n   this.getProducts();\n }\n}\n","<div class=\"container mt-3\">\n    <div class=\"row\">\n        <section class=\"col-3\">\n            <ng-container *ngIf=\"types && brands\">\n            <h5 class=\"text-primary ml-3 mt-4 mb-3\">Sort</h5>\n            <select class=\"custom-select mb-4\" (change)=\"onSortSelected($event.target.value )\">\n                <option *ngFor=\"let sort of sortOptions\"\n                    [selected]=\"shopParams.sort === sort.value\"\n                    [value]=\"sort.value\">\n                    {{sort.name}} </option>\n            </select>\n            <h5 class=\"text-primary ml-3\">Brands</h5>\n            <ul class=\"list-group my-3\">\n                <li class=\"list-group-item\" \n                    *ngFor=\"let brand of brands\"\n                    [class.active]=\"brand.id === this.shopParams.brandId\"\n                    [value]=\"brand.id\"\n                    (click)=\"onBrandSelected(brand.id)\"\n                >\n                    {{brand.name}}\n                </li>\n               \n              </ul> \n              <h5 class=\"text-primary ml-3\">Types</h5>\n              <ul class=\"list-group my-3\">\n                <li class=\"list-group-item\"\n                    *ngFor=\"let type of types\"\n                    [class.active]=\"type.id === this.shopParams.typeId\"\n                    [value]=\"type.id\"\n                    (click)=\"onTypeSelected(type.id)\"\n                >\n                    {{type.name}}\n                </li>\n               \n              </ul>\n            </ng-container>\n        </section>\n\n        <section class=\"col-9\">\n            <div class=\"d-flex justify-content-between align-items-center pb-2\">\n\n            <app-paging-header\n                [totalCount]=\"totalCount\"\n                [pageSize]=\"this.shopParams.pageSize\"\n                [pageNumber]=\"this.shopParams.pageNumber\">\n            </app-paging-header>\n\n                   <div class=\"form-inline\" *ngIf=\"products\">\n                    <input (keyup.enter)=\"onSearch()\" class=\"form-control mr-2\" #search style=\"width:300px\" placeholder=\"Search\" type=\"text\">\n                    <button (click)=\"onSearch()\" class=\"btn btn-outline-primary my-2\">Search</button>\n                    <button (click)=\"onReset()\" class=\"btn btn-outline-success ml-2 my-2\">Reset</button>\n                </div>\n            </div>\n           \n            <div class=\"row\">\n                <div class=\"col-4 mb-4\" *ngFor=\"let item of products\">\n                     <app-product-item [product]=\"item\"></app-product-item>\n                </div>\n            </div>\n             <div class=\"d-flex justify-content-center\" *ngIf=\"totalCount > 0\">\n                <app-pager\n                    [pageSize]=\"shopParams.pageSize\"\n                    [totalCount]=\"totalCount\"\n                    [pageNumber]=\"shopParams.pageNumber\"\n                    (pageChanged)=\"onPageChanged($event)\">\n                ></app-pager>\n             </div>\n           \n              \n        </section>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ShopComponent } from './shop.component';\nimport { ProductItemComponent } from './product-item/product-item.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\nimport { ShopRoutingModule } from './shop-routing.module';\n\n@NgModule({\n  declarations: [\n     ShopComponent,\n     ProductItemComponent,\n     ProductDetailsComponent\n    ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    ShopRoutingModule\n  ]\n})\nexport class ShopModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { IPagination, Pagination } from '../shared/models/pagination';\nimport { IBrand } from '../shared/models/brand';\nimport { IType } from '../shared/models/productType';\nimport { map } from 'rxjs/operators';\nimport { ShopParams } from '../shared/models/ShopParams';\nimport { IProduct } from '../shared/models/product';\nimport { of } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShopService {\n  baseUrl = 'https://localhost:5001/api/';\n  // for caching\n  products: IProduct[] = [];\n  brands: IBrand[] = [];\n  types: IType[] = [];\n  pagination = new Pagination();\n  shopParams = new ShopParams();\n\n  constructor(private http: HttpClient) { }\n\n  getProducts(useCache: boolean) {\n\n    if (useCache === false) {\n      this.products = [];\n    }\n\n    if (this.products.length > 0 && useCache === true) {\n      const pagesReceived = Math.ceil(this.products.length / this.shopParams.pageSize);\n\n      if (this.shopParams.pageNumber <= pagesReceived) {\n        this.pagination.data = this.products.slice((this.shopParams.pageNumber - 1) *\n        this.shopParams.pageSize, this.shopParams.pageNumber * this.shopParams.pageSize);\n\n        return of(this.pagination);\n      }\n    }\n    let params = new HttpParams();\n\n    if (this.shopParams.brandId !== 0) {\n      params = params.append('brandId', this.shopParams.brandId.toString());\n    }\n\n    if (this.shopParams.typeId !== 0) {\n      params = params.append('typeId', this.shopParams.typeId.toString());\n    }\n\n    params = params.append('sort', this.shopParams.sort);\n    params = params.append('pageIndex', this.shopParams.pageNumber.toString());\n    params = params.append('pageIndex', this.shopParams.pageSize.toString());\n\n    if (this.shopParams.search) {\n      params = params.append('search', this.shopParams.search);\n    }\n\n    return this.http.get<IPagination>(this.baseUrl + 'products', {observe: 'response', params})\n      .pipe(\n        map(response => {\n          // Filled array once all products loaded\n          // will append the new set of data with existing set\n          this.products = [...this.products, ...response.body.data];\n          this.pagination = response.body;\n          return this.pagination;\n        })\n      );\n  }\n\n  setShopParams(params: ShopParams) {\n    this.shopParams = params;\n  }\n\n  getShopParams() {\n    return this.shopParams;\n  }\n\n  getProduct(id: number) {\n    // basically angular components throw everything once we switch to another component...\n    // Hence, returning from service is best way to stay efficient\n    // Then once by id product is accessed, it gets retrieved from products array directly as a cached result.\n    const product = this.products.find(p => p.id === id);\n\n    if (product) {\n      return of(product);\n    }\n    return this.http.get<IProduct>(this.baseUrl + 'products/' + id);\n  }\n\n  getBrands() {\n    // returning from service\n    if (this.brands.length > 0) {\n      return of(this.brands);\n    }\n    return this.http.get<IBrand[]>(this.baseUrl + 'products/brands').pipe(\n      map((response) => {\n        // filled brands\n        this.brands = response;\n        return response;\n      })\n    );\n  }\n\n  getTypes() {\n    if (this.types.length > 0) {\n      return of(this.types);\n    }\n    return this.http.get<IType[]>(this.baseUrl + 'products/types').pipe(\n      map((response) => {\n        // Filled types\n        this.types = response;\n        return response;\n      })\n    );\n  }\n}\n"]}